<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏•‡∏≤‡∏™ | >Tutor</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Navbar -->
  <link rel="stylesheet" href="../CSS/navbar.css" />
  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏•‡∏≤‡∏™ -->
  <link rel="stylesheet" href="../CSS/booking.css" />
  <style>
    html, body {
  height: 100%;
  display: flex;
  flex-direction: column;
}
.site-footer {
  margin-top: auto;
}
  </style>
</head>

<body>
  <!-- NAVBAR -->
  <header class="cc-navbar">
    <div class="cc-nav-wrap">
      <a class="cc-brand" href="/Home/Home.html">
        <span class="cc-logo">‚¨¢</span>
        <strong class="cc-site">Tutor</strong>
      </a>
      <ul class="cc-links">
        <li><a href="teacher.html">‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</a></li>
      </ul>
      <div class="cc-right">
        <a class="cc-icon" href="/Teacher/inbox.html" aria-label="‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°" aria-current="page">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12l4-3h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"/></svg>
          </a>
          <a class="cc-icon" href="/Teacher/favorites.html" aria-label="‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21s-6.7-4.4-9.1-7.6C.6 10.8 1.4 7.2 4.4 6 6.3 5.2 8.3 5.7 9.7 7c.5.5.9 1.1 1.1 1.7.3-.6.7-1.2 1.2-1.7 1.4-1.4 3.4-1.8 5.3-.9 3 1.3 3.7 4.8 1.5 7.4C18.7 16.6 12 21 12 21z"/></svg>
        </a>
          <a class="cc-icon" href="/Teacher/notifications.html" aria-label="‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 22a2 2 0 002-2H10a2 2 0 002 2zm6-6V11a6 6 0 10-12 0v5L4 18v1h16v-1l-2-2z"/></svg>
          </a>
        <div class="cc-actions">
          <a class="cc-avatar" href="/Profile/account.html">
            <img src="https://i.pravatar.cc/36?img=68" alt="‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="notif-hero">
    <div class="container">
      <h1>‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏•‡∏≤‡∏™</h1>
    </div>
  </section>

  <!-- LIST -->
  <main class="container notif-list" id="bookingList">
    <!-- JS ‡∏à‡∏∞‡πÄ‡∏ï‡∏¥‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
  </main>

  <!-- Template Booking Item -->
  <template id="tpl-item">
    <article class="notif" role="listitem">
      <div class="left">
        <div class="avatar-wrap">
          <img class="avatar" src="" alt="">
          <div class="type-icon" aria-hidden="true"></div>
        </div>
      </div>
      <div class="content">
        <header class="title-row">
          <h3 class="title"></h3>
          <time class="time" datetime=""></time>
        </header>
        <p class="body"></p>
        <div class="row-actions">
          <a class="btn primary start" href="https://zoom.us/j/1234567890" target="_blank">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
          <a class="btn primary open" href="/Pay/Conform.html">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
          <a class="btn primary review" href="/Booked/review.html">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß</a>
        </div>
      </div>
    </article>
  </template>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
 ¬© 2025 Tutor ¬∑ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®
    </div>
  </footer>

  <!-- Script -->
  <script>
  (function(){
    'use strict';
    const $  = s => document.querySelector(s);
    const listEl = $('#bookingList');

    // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
    const bookings = [
      {
        id:'b1',
        title:'‡∏à‡∏≠‡∏á‡∏Ñ‡∏•‡∏≤‡∏™‡∏Å‡∏±‡∏ö ‡∏™‡∏°‡∏®‡∏£‡∏µ ‡∏°‡∏µ‡∏´‡∏ß‡∏±‡∏á',
        body:'‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå 20:00 ‡∏ú‡πà‡∏≤‡∏ô Zoom',
        href:'booking-detail.html',
        avatar:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgN_CJHzHV_vh2lcvF8tumbm4ZES0-6M9HsA&s',
        time: new Date().toISOString()
      },
      
    ];

    function relTime(iso){
      const d = new Date(iso);
      const diff = Math.floor((Date.now() - d.getTime())/1000);
      if(diff < 60) return '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà';
      const m = Math.floor(diff/60);
      if(m < 60) return m+' ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß';
      const h = Math.floor(m/60);
      if(h < 24) return h+' ‡∏ä‡∏°.‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß';
      const dday = Math.floor(h/24);
      if(dday === 1) return '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô';
      return d.toLocaleDateString('th-TH');
    }

       function render(){
      listEl.innerHTML = '';
      const tpl = $('#tpl-item');
      bookings.forEach(n=>{
        const node = document.importNode(tpl.content, true);
        node.querySelector('.avatar').src = n.avatar;
        node.querySelector('.title').textContent = n.title;
        node.querySelector('.body').textContent = n.body;
        const t = node.querySelector('.time');
        t.textContent = relTime(n.time);
        t.setAttribute('datetime', n.time);

        const openBtn   = node.querySelector('.open');
const reviewBtn = node.querySelector('.review');
// if (openBtn && n.href) openBtn.href = n.href;




        listEl.appendChild(node);
      });
    }


    render();
  })();
  </script>
   <script>
(function(){
  'use strict';
  const ICON = document.querySelector('.cc-icon[href="/Teacher/notifications.html"]');
  if (!ICON) return;

  // üîî ‡∏™‡∏£‡πâ‡∏≤‡∏á badge
  const badge = document.createElement('span');
  badge.className = 'noti-badge';
  badge.textContent = '0';
  badge.style.position = 'absolute';
  badge.style.top = '-6px';
  badge.style.right = '-6px';
  badge.style.background = '#CC2F26';
  badge.style.color = '#fff';
  badge.style.borderRadius = '50%';
  badge.style.fontSize = '10px';
  badge.style.padding = '2px 5px';
  badge.style.display = 'none';
  badge.style.fontWeight = 'bold';
  badge.style.minWidth = '16px';
  badge.style.textAlign = 'center';
  badge.style.lineHeight = '1.2';
  badge.style.pointerEvents = 'none';

  // ‡∏ï‡∏¥‡∏î badge ‡πÑ‡∏ß‡πâ‡∏ö‡∏ô icon
  ICON.style.position = 'relative';
  ICON.appendChild(badge);

  // ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
  function updateBadge() {
    const count = parseInt(localStorage.getItem('notifications.count') || '0', 10);
    badge.textContent = count;
    badge.style.display = count > 0 ? 'inline-block' : 'none';
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î
  updateBadge();

  // ‡∏ü‡∏±‡∏á event ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô storage
  window.addEventListener('storage', e => {
    if (e.key === 'notifications.count') updateBadge();
  });
})();
</script>

 <script>
(function(){
  'use strict';
  const ICON = document.querySelector('.cc-icon[href="/Teacher/favorites.html"]');
  if (!ICON) return;

  // üîî ‡∏™‡∏£‡πâ‡∏≤‡∏á badge
  const badge = document.createElement('span');
  badge.className = 'noti-badge';
  badge.textContent = '0';
  badge.style.position = 'absolute';
  badge.style.top = '-6px';
  badge.style.right = '-6px';
  badge.style.background = '#CC2F26';
  badge.style.color = '#fff';
  badge.style.borderRadius = '50%';
  badge.style.fontSize = '10px';
  badge.style.padding = '2px 5px';
  badge.style.display = 'none';
  badge.style.fontWeight = 'bold';
  badge.style.minWidth = '16px';
  badge.style.textAlign = 'center';
  badge.style.lineHeight = '1.2';
  badge.style.pointerEvents = 'none';

  // ‡∏ï‡∏¥‡∏î badge ‡πÑ‡∏ß‡πâ‡∏ö‡∏ô icon
  ICON.style.position = 'relative';
  ICON.appendChild(badge);

  // ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
  function updateBadge() {
    const count = parseInt(localStorage.getItem('notifications.count') || '0', 10);
    badge.textContent = count;
    badge.style.display = count > 0 ? 'inline-block' : 'none';
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î
  updateBadge();

  // ‡∏ü‡∏±‡∏á event ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô storage
  window.addEventListener('storage', e => {
    if (e.key === 'notifications.count') updateBadge();
  });
})();
</script>
</body>
</html>
