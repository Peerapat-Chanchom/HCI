<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏à‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π</title>
  <link rel="stylesheet" href="../CSS/Pay.css" />
</head>
<body>
<div class="container">
  <div class="grid">
    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ -->
    <form class="card" id="bookingForm" onsubmit="event.preventDefault()">
      <div class="hd">‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</div>
      <div class="bd">
        <div class="row cols-2">
          <div>
            <div class="label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
            <input type="date" id="date" required>
          </div>
        </div>

        <div class="row cols-2">
          <div>
            <div class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
            <input type="number" id="hours" min="1" max="20" value="1">
          </div>
        </div>

        <div class="row">
          <div class="label">‡πÇ‡∏ô‡πâ‡∏ï‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</div>
          <textarea id="note" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏π‡∏î‡∏Ñ‡∏•‡πà‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏≠‡∏ö"></textarea>
        </div>

        <div class="row">
          <label>
            <input type="checkbox" id="agree" required>
            <span> ‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</span>
          </label>
        </div>

        <div class="row">
          <button class="btn btn-primary" style="width:100%" id="confirmBtn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
        </div>
      </div>
    </form>

    <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ -->
    <aside class="card summary" id="summary">
      <div class="hd">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á</div>
      <div class="bd">
        <div class="teacher">
          <img class="avatar" src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=300" alt="‡∏Ñ‡∏£‡∏π">
          <div>
            <div style="font-weight:600">Kavinna B.</div>
            <div class="muted">319 ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
          </div>
        </div>

        <div class="hr"></div>

        <div class="rowline"><span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</span><span id="sumDate">‚Äî</span></div>
        <div class="rowline"><span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</span><span id="sumHours">1</span></div>
        <div class="rowline"><span>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</span><span id="sumRate">‡∏ø487</span></div>

        <div class="hr"></div>

        <div class="rowline"><strong>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</strong><strong id="sumTotal">‡∏ø487</strong></div>
      </div>
    </aside>
  </div>
</div>

<script>
  const PRICE_PER_HOUR = 487; // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
  const $ = id => document.getElementById(id);

  function updateSummary() {
    const hours = parseFloat($("hours").value) || 0;
    const dateVal = $("date").value;
    const total = hours * PRICE_PER_HOUR;

    $("sumDate").textContent = dateVal || "‚Äî";
    $("sumHours").textContent = hours.toString();
    $("sumTotal").textContent = `‡∏ø${total.toFixed(0)}`;
  }

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
  ["hours","date"].forEach(id => $(id).addEventListener("input", updateSummary));

  // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
  updateSummary();

  // üëâ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
  $("confirmBtn").addEventListener("click", () => {
    if (!$("agree").checked) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á");
      return;
    }

    const dateVal = $("date").value;
    const hours = $("hours").value;

    if (!dateVal || !hours) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞");
      return;
    }

    // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏ß‡πâ‡πÉ‡∏ô localStorage (‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô)
    localStorage.setItem("bookingDate", dateVal);
    localStorage.setItem("bookingHours", hours);
    localStorage.setItem("bookingTotal", hours * PRICE_PER_HOUR);

    // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
    window.location.href = "Payment.html";
  });
</script>

</body>
</html>
